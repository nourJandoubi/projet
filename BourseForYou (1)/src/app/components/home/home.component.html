<app-header></app-header>

<div class="main-content position-relative  border-radius-lg container-fluid py-4 row">
  <div class="col-2"></div>
  <div class="col">
    <div class="row mt-4">
      <div class="col-lg-7 mb-lg-0 mb-4">
        <div class="card"> 
            <div class=" pb-0 p-3 d-flex justify-content-between mt-2">
              <button class="mb-2" (click)="All()"class="btnAlpha"  style="text-decoration: none"> 
               <strong>Tous</strong> </button>
              <button *ngFor="let i of alpha" class="btnAlpha" style="text-decoration: none" (click)="filterActionByLetter(i)">{{ i }}</button>
            </div>    
          <div class="table-responsive mt-2">
            <table class="table align-items-center align-middle table-hover">
              <thead>
                <tr class="bg-light ">
                  <th scope="col" class="border-right">Valeur</th>
                  <th scope="col"class="border-right">Cours</th>
                  <th scope="col"class="border-right">Variation</th>
                  <th scope="col"class="border-right">Ouv.</th>
                  <th scope="col"class="border-right">Haut</th>
                  <th scope="col"class="border-right">Bas</th>
                  <th scope="col"class="border-right">Volume</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let t of pageSliceAction">
                  <td class="d-flex align-items-center ">
                    
                      {{ t.nomEntreprise }}
                    
                  </td>
                  <td class="w-30">
                    <div class="  align-items-center" >
                      {{ t.cours }}
                    </div>
                  </td>
                  <td class="w-30">
                    <div class="align-items-center" [innerHTML]="t.variation | highlightSign" >
                    </div>
                  </td>
                  <td class="w-30">
                    <div class="align-items-center">
                      {{ t.ouv }}
                    </div>
                  </td>
                  <td class="w-30">
                    <div class="align-items-center">
                      {{ t.haut }}
                    </div>
                  </td>
                  <td class="w-30">
                    <div class="align-items-center">
                      {{ t.bas }}
                    </div>
                  </td>
                  <td class="w-30">
                    <div class="align-items-center">
                      {{ t.volume }}
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <!--<mat-paginator
              [length]="filteredItemsAction.length"
              [pageSize]="8"
              (page)="onPageChangeAction($event)"
            >
            </mat-paginator>-->
            
            <div class="d-flex align-items-center text-xs">
              <p-paginator (onPageChange)="onPageChangeAction($event)" [first]="first" [rows]="rows" [totalRecords]="filteredItemsAction.length/8" [rowsPerPageOptions]="[8, 10, 12]"></p-paginator>
              
            </div>
          </div>
        </div>
      </div>

      <!--News-->
      <div class="col-lg-5 " >
        <div class="card">
          <div class=" pb-0 p-3">
          <div style="text-align: center;">
              <h5>Actualites   <fa-icon [icon]="faClockRotateLeft"></fa-icon></h5>
             
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input type="text" pInputText [(ngModel)]="searchTermNews" placeholder="Rechercher..." (input)="onsearchTermNewsChange($event)"  />
            </span>
            
          </div>

        
          </div>
          <div class="card-body p-3">
            <ul class="list-group">
              <li
                class="list-group-item border-0 d-flex justify-content-between ps-0 mb-2 border-radius-lg"
                *ngFor="let actualite of pageSliceNews"
              >
                <div class="d-flex align-items-center" *ngIf="filteredItemsNews.length !== 0">
                  <div class="d-flex flex-column">
                    <span class="text-xs">{{ actualite.pubDate | date: 'shortTime' }}</span>
                    <h6 class="mb-1 text-dark text-sm">{{ actualite.title }}</h6>
                   
                      <p class="text-xs" style="height: 32px; overflow: hidden" type="text" pTooltip="{{ actualite.content }}" class="text-xs" >{{ actualite.content }}</p>
                   
                   
                  </div>
                  <div class="d-flex">
                    <button class="btn btn-link btn-icon-only btn-rounded btn-sm text-dark icon-move-right my-auto" [routerLink]="['/home',actualite._id]">
                      <i class="ni ni-bold-right" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </li>
              <div class="d-flex align-items-center" *ngIf="filteredItemsNews.length == 0">
                <h5>Pas de resultat</h5>
              </div>
              <!--<mat-paginator
                [length]="filteredItemsNews.length"
                [pageSize]="4"
                aria-label="Select page"
                (page)="onPageChangeNews($event)"
              >
              </mat-paginator>-->
              
                <div class="d-flex align-items-center ">
                  <p-paginator class="ms-5" [first]="first" [rows]="rows" [totalRecords]="filteredItemsNews.length/4" (onPageChange)="onPageChangeNews($event)" [showJumpToPageDropdown]="true" [showPageLinks]="false"></p-paginator>

                </div>
                

            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
